(this["webpackJsonpgoit-react-hw-03-image-finder-async"]=this["webpackJsonpgoit-react-hw-03-image-finder-async"]||[]).push([[0],{15:function(e,t,a){e.exports={loader:"Loader_loader__3VLe7"}},16:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__gKywI",ImageGalleryItem_image:"ImageGalleryItem_ImageGalleryItem_image__1gxcw"}},17:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2PMgU",Modal:"Modal_Modal__2MHBy"}},28:function(e,t,a){e.exports={image:"App_image__12AVC"}},29:function(e,t,a){e.exports={container:"Container_container__1WFOQ"}},30:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__1GqAk"}},32:function(e,t,a){e.exports={Button:"Button_Button__3SJXg"}},6:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__puVO1",SearchForm:"Searchbar_SearchForm__jd-Bu",SearchForm_button:"Searchbar_SearchForm_button__1DhF2",SearchForm_button_label:"Searchbar_SearchForm_button_label__ix8G9",SearchForm_input:"Searchbar_SearchForm_input__12u9q"}},80:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(4),o=a.n(c),i=a(5),s=a.n(i),l=a(18),u=a(7),m=a(8),d=a(9),h=a(11),p=a(10),g=a(12);a(39);function b(){g.b.error("Please enter a valid request")}a(40);var j=a(14),f=a.n(j),_=a(15),O=a.n(_),x=a(1),v=function(){return Object(x.jsx)("div",{className:O.a.loader,children:Object(x.jsx)(f.a,{type:"Circles",color:"#00BFFF",height:300,width:300})})},y=function(){return Object(x.jsx)("div",{className:O.a.loader,children:Object(x.jsx)(f.a,{type:"Bars",color:"#00BFFF",height:200,width:200})})},S=a(28),I=a.n(S),w=a(29),k=a.n(w),C=function(e){var t=e.children;return Object(x.jsx)("div",{className:k.a.container,children:t})},F=a(6),N=a.n(F),L=function(e){var t=e.onSearch;return Object(x.jsx)("header",{className:N.a.Searchbar,children:Object(x.jsxs)("form",{className:N.a.SearchForm,onSubmit:function(e){e.preventDefault(),t(e.target.elements.pictureName.value)},children:[Object(x.jsx)("button",{type:"submit",className:N.a.SearchForm_button,children:Object(x.jsx)("span",{className:N.a.SearchForm_button_label,children:"Search"})}),Object(x.jsx)("input",{className:N.a.SearchForm_input,type:"text",autoComplete:"off",autoFocus:!0,name:"pictureName",placeholder:"Search images and photos"})]})})},M=a(30),B=a.n(M),G=a(16),U=a.n(G);var R=function(e){var t=e.webformatURL,a=e.largeImageURL,n=e.tags,r=e.handleImageClick;return Object(x.jsx)("li",{className:U.a.ImageGalleryItem,children:Object(x.jsx)("img",{src:t,alt:n,className:U.a.ImageGalleryItem_image,onClick:function(){console.log("ura"),r(a,n)}})})},P=function(e){var t=e.pictures,a=e.handleImageClick;return console.log(a),Object(x.jsx)("ul",{className:B.a.ImageGallery,children:t.map((function(e){var t=e.id,n=e.webformatURL,r=e.largeImageURL,c=e.tags;return Object(x.jsx)(R,{webformatURL:n,largeImageURL:r,tags:c,handleImageClick:a},t)}))})},E=a(31),T=a.n(E),q=function(){var e=Object(u.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://pixabay.com/api","21672899-2a5ee6aa4aab0c8363895dd3b",e.next=4,T.a.get("".concat("https://pixabay.com/api","/?key=").concat("21672899-2a5ee6aa4aab0c8363895dd3b","&q=").concat(t,"&image_type=photo&page&per_page=12&page=").concat(a));case 4:return n=e.sent,e.next=7,n.data.hits;case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),A=a(19),D=a(33),K=a(32),J=a.n(K),V=["onClick"];function H(e){var t=e.onClick,a=Object(D.a)(e,V);return Object(x.jsx)("button",Object(A.a)(Object(A.a)({type:"submit",className:J.a.Button,onClick:t},a),{},{children:Object(x.jsx)("span",{children:"Load More"})}))}H.defaultProps={onClick:function(){return null}};var W=a(17),Q=a.n(W),X=document.querySelector("#modalroot"),z=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleKeydown=function(t){"Escape"===t.code&&e.props.onClose()},e.handleBackdropClick=function(t){t.target===t.currentTarget&&e.props.onClose()},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeydown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeydown)}},{key:"render",value:function(){return Object(c.createPortal)(Object(x.jsx)("div",{className:Q.a.Overlay,onClick:this.handleBackdropClick,children:Object(x.jsx)("div",{className:Q.a.Modal,children:this.props.children})}),X)}}]),a}(n.Component);z.defaultProps={onClose:function(){return null},children:null};var Y=z,Z=a.p+"static/media/defoultImg.c7539526.jpg",$="idle",ee="pending",te="resolved",ae="rejected",ne=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={pictureName:null,pictures:[],status:$,page:1,largeImageURL:"",imgTags:"",loader:!1},e.toggleModal=function(){e.setState((function(e){return{showModal:!e.showModal}}))},e.hideLoaderInModal=function(){return e.setState({loader:!1})},e.handleImageClick=function(t,a){e.setState({largeImageURL:t,imgTags:a,loader:!0}),e.toggleModal()},e.handleFormSubmit=function(t){e.state.pictureName===t||(""!==t.trim()?(e.resetState(),e.setState({pictureName:t})):b())},e.handleNameChange=function(t){e.setState({pictureName:t})},e.resetState=function(){e.setState({pictureName:"",page:1,pictures:[],largeImageURL:null,status:$})},e.scrollPageToEnd=function(){setTimeout((function(){window.scrollBy({top:document.documentElement.scrollHeight,behavior:"smooth"})}),1e3)},e.onLoadMoreBtn=function(){e.setState((function(e){return{page:e.page+1}}))},e}return Object(d.a)(a,[{key:"onFetchPictures",value:function(){var e=Object(u.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.pictureName,n=t.page,e.prev=1,e.next=4,q(a,n);case 4:if(0!==(r=e.sent).length){e.next=7;break}throw new Error;case 7:this.setState((function(e){return{pictures:[].concat(Object(l.a)(e.pictures),Object(l.a)(r)),status:te}})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),this.setState({status:ae}),b();case 14:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t){var a=this.state,n=a.pictureName,r=a.page;(t.pictureName!==n||t.page!==r)&&(this.setState({status:ee}),this.onFetchPictures()),r>1&&this.scrollPageToEnd()}},{key:"render",value:function(){var e=this.state,t=e.pictures,a=e.status,n=e.showModal,r=e.largeImageURL,c=e.imgTags,o=e.loader,i=t.length>0;return Object(x.jsxs)(C,{children:[Object(x.jsx)(g.a,{autoClose:4e3}),Object(x.jsx)(L,{onSearch:this.handleFormSubmit}),a===$&&Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("img",{src:Z,width:"800",alt:"question",className:I.a.image})}),a===ee&&Object(x.jsx)(v,{}),a===te&&Object(x.jsx)(P,{pictures:t,handleImageClick:this.handleImageClick}),i&&Object(x.jsx)(H,{onClick:this.onLoadMoreBtn,"aria-label":"add contact"}),n&&Object(x.jsxs)(Y,{onClose:this.toggleModal,children:[o&&Object(x.jsx)(y,{}),Object(x.jsx)("img",{src:r,alt:c,onLoad:this.hideLoaderInModal})]})]})}}]),a}(n.Component);a(80);o.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(ne,{})}),document.getElementById("root"))}},[[81,1,2]]]);
//# sourceMappingURL=main.eb40fdc8.chunk.js.map