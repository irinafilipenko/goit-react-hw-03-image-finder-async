(this["webpackJsonpgoit-react-hw-03-image-finder-async"]=this["webpackJsonpgoit-react-hw-03-image-finder-async"]||[]).push([[0],{22:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__1GqAk",image:"ImageGallery_image__2KhoV"}},24:function(e,t,a){e.exports={Button:"Button_Button__3SJXg"}},4:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__puVO1",SearchForm:"Searchbar_SearchForm__jd-Bu",SearchForm_button:"Searchbar_SearchForm_button__1DhF2",SearchForm_button_label:"Searchbar_SearchForm_button_label__ix8G9",SearchForm_input:"Searchbar_SearchForm_input__12u9q"}},53:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(5),o=a.n(c),s=a(3),i=a.n(s),u=a(10),l=a(6),m=a(20),h=a(21),p=a(26),b=a(25),g=a(7);a(33);function d(){g.b.error("Please enter a valid request")}var j=a(4),f=a.n(j),_=a(1),S=function(e){var t=e.onSearch;return Object(_.jsx)("header",{className:f.a.Searchbar,children:Object(_.jsxs)("form",{className:f.a.SearchForm,onSubmit:function(e){e.preventDefault(),t(e.target.elements.pictureName.value)},children:[Object(_.jsx)("button",{type:"submit",className:f.a.SearchForm_button,children:Object(_.jsx)("span",{className:f.a.SearchForm_button_label,children:"Search"})}),Object(_.jsx)("input",{className:f.a.SearchForm_input,type:"text",autoComplete:"off",autoFocus:!0,name:"pictureName",placeholder:"Search images and photos"})]})})},x=a(22),y=a.n(x),v=a(9),O=a.n(v);var I=function(e){var t=e.webformatURL,a=(e.largeImageURL,e.tags);return e.handleImageClick,Object(_.jsx)("li",{className:O.a.ImageGalleryItem,children:Object(_.jsx)("img",{src:t,alt:a,className:O.a.ImageGalleryItem_image})})},F=function(e){var t=e.pictures;return Object(_.jsx)("ul",{className:y.a.ImageGallery,children:t.map((function(e){var t=e.id,a=e.webformatURL,r=e.largeImageURL,n=e.tags;return Object(_.jsx)(I,{webformatURL:a,largeImageURL:r,tags:n},t)}))})},w=a(23),N=a.n(w),k=function(){var e=Object(l.a)(i.a.mark((function e(t,a){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://pixabay.com/api","21672899-2a5ee6aa4aab0c8363895dd3b",e.next=4,N.a.get("".concat("https://pixabay.com/api","/?key=").concat("21672899-2a5ee6aa4aab0c8363895dd3b","&q=").concat(t,"&image_type=photo&page&per_page=12&page=").concat(a));case 4:return r=e.sent,e.next=7,r.data.hits;case 7:if(0!==(n=e.sent).length){e.next=10;break}throw new Error("\u041d\u0435\u0442 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u043f\u043e \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u043c\u0443 \u0441\u043b\u043e\u0432\u0443 ".concat(t));case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),G=a(11),C=a(27),B=a(24),L=a.n(B),U=["onClick"];function P(e){var t=e.onClick,a=Object(C.a)(e,U);return Object(_.jsx)("button",Object(G.a)(Object(G.a)({type:"submit",className:L.a.Button,onClick:t},a),{},{children:Object(_.jsx)("span",{children:"Load More"})}))}P.defaultProps={onClick:function(){return null}};var R="idle",q="pending",E="resolved",M="rejected",D=function(e){Object(p.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(m.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={pictureName:null,pictures:[],status:R,page:1},e.handleFormSubmit=function(t){""!==t.trim()?e.setState({pictureName:t}):d()},e.handleNameChange=function(t){e.setState({pictureName:t})},e.scrollPageToEnd=function(){setTimeout((function(){window.scrollBy({top:document.documentElement.scrollHeight,behavior:"smooth"})}),1e3)},e.onLoadMoreBtn=function(){e.setState((function(e){return{page:e.page+1}}))},e}return Object(h.a)(a,[{key:"onFetchPictures",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,a,r,n,c=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.pictureName,r=t.page,e.prev=1,e.next=4,k(a,r);case 4:n=e.sent,this.setState((function(e){return{pictures:[].concat(Object(u.a)(e.pictures),Object(u.a)(n)),page:c.state.page,status:E}})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),this.setState({status:M}),d();case 12:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t){var a=this.state,r=a.pictureName,n=a.page;t.pictureName!==r&&""!==r&&(this.setState({status:q,page:1,pictures:[]}),this.onFetchPictures()),t.page!==n&&(console.log("hi"),this.onFetchPictures())}},{key:"render",value:function(){var e=this.state,t=e.pictures,a=e.status,r=t.length>0;return Object(_.jsxs)("div",{children:[Object(_.jsx)(g.a,{autoClose:4e3}),Object(_.jsx)(S,{onSearch:this.handleFormSubmit}),a===E&&Object(_.jsx)(F,{pictures:t}),r&&Object(_.jsx)(P,{onClick:this.onLoadMoreBtn,"aria-label":"add contact"})]})}}]),a}(r.Component);a(53);o.a.render(Object(_.jsx)(n.a.StrictMode,{children:Object(_.jsx)(D,{})}),document.getElementById("root"))},9:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__gKywI",ImageGalleryItem_image:"ImageGalleryItem_ImageGalleryItem_image__1gxcw"}}},[[54,1,2]]]);
//# sourceMappingURL=main.8ae1e001.chunk.js.map